(this["webpackJsonprestaurant-app"]=this["webpackJsonprestaurant-app"]||[]).push([[0],{55:function(e,t,c){},56:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(20),r=c.n(n),i=(c(55),c(8)),j=(c(56),c(41),c(78)),o=c(80),l=c(79),d=c(48),h=c(72),b=c(75),u=c(77),x=c(49),O=c(34),m=c(6),p=c(81),g=c(1);function f(){return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(p.a.Body,{children:[Object(g.jsx)(p.a.Title,{children:"Maickel Siqueira"}),Object(g.jsx)(p.a.Text,{className:"text-muted",children:"Student at Seneca college."})]}),Object(g.jsxs)(p.a.Footer,{children:["Check my other projects at my ",Object(g.jsx)("a",{href:"https://www.maickel.ca",children:"portfolio"})," and ",Object(g.jsx)("a",{href:"https://github.com/mksiq",children:"github"}),"."]})]})}var v=c(16),w=c.n(v),N=c(22),y=c(73),k=c(83),C=c(74),z={uri:"https://web422-assignment1-msiqueira.herokuapp.com/api/restaurants",perPage:10},S=c(70),M=c(71);function F(){return Object(g.jsx)(S.a,{className:"text-center h4 mt-5",children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsxs)("div",{className:"text-center h3 mt-2",children:[Object(g.jsx)(M.a,{animation:"border",variant:"secondary",className:"mr-3"})," ","Loading."]}),Object(g.jsx)("p",{children:"Wait a few seconds. If it takes too long please refresh."})]})})}var B=c(76),A={age:function(e){return e.reduce((function(e,t){return e+t.score}),0)/e.length},parseDate:function(e){var t=new Date(e),c=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return"".concat(a,"/").concat(c,"/").concat(s)},fixCase:function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}},L=c(15);function T(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(S.a,{children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsxs)("p",{className:"text-center h3 mt-2",children:["No restaurants found ",e.search,"."]}),Object(g.jsx)("p",{children:"Please retry."}),Object(g.jsx)("br",{}),Object(g.jsx)(L.Link,{to:"/restaurants",children:Object(g.jsx)(h.a,{variant:"secondary",size:"sm",children:"Clear"})})]})})})}function P(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(!0),j=Object(i.a)(r,2),o=j[0],l=j[1];if(Object(a.useEffect)((function(){function t(){return(t=Object(N.a)(w.a.mark((function t(){var c,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,fetch("".concat(z.uri,"/").concat(e.id));case 3:return a=t.sent,t.next=6,a.json();case 6:(c=t.sent).hasOwnProperty("_id")?n(c):n(null),l(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.id]),o)return Object(g.jsx)(F,{});if(s)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.a,{children:Object(g.jsxs)(p.a.Body,{children:[Object(g.jsx)(p.a.Title,{children:s.name}),Object(g.jsxs)(p.a.Text,{className:"text-muted",children:[s.address.building," ",s.address.street," -",s.borough]})]})}),Object(g.jsxs)(y.a,{style:{height:"400px"},center:[s.address.coord[1],s.address.coord[0]],zoom:13,scrollWheelZoom:!1,children:[Object(g.jsx)(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(g.jsx)(C.a,{position:[s.address.coord[1],s.address.coord[0]]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("h4",{children:"Ratings"}),Object(g.jsx)("hr",{}),Object(g.jsx)(b.a,{fluid:!0,children:Object(g.jsx)(B.a,{children:s.grades.map((function(e,t){return Object(g.jsxs)(p.a,{className:"mr-4",children:[Object(g.jsxs)(p.a.Header,{children:["Grade: ",e.grade]}),Object(g.jsxs)(p.a.Body,{children:["Completed: ",A.parseDate(e.date)]})]},t)}))})})]});var d="with id ".concat(e.id);return Object(g.jsx)(T,{search:d})}var D=c(45),R=c.n(D),I=c(82);function q(e){var t=Object(m.k)();function c(e){return e.length<35?e:e=e.slice(0,32)+"..."}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(u.a,{className:"p-2",children:e.restaurants.map((function(e,a){return Object(g.jsx)(b.a,{"data-id":e._id,onClick:function(){t.push("/restaurant/".concat(e._id))},className:"col-12 col-md-6 p-2",children:Object(g.jsx)(b.a,{className:"restaurant-card",children:Object(g.jsxs)(b.a,{children:[Object(g.jsxs)(u.a,{className:"justify-content-between",children:[Object(g.jsx)("h4",{className:"font-weight-bold",children:c(e.name)}),Object(g.jsx)("span",{className:"mr-0",children:e.borough})]}),Object(g.jsxs)(u.a,{className:"justify-content-between",children:[Object(g.jsxs)("h5",{className:"text-muted",children:[Object(g.jsx)("span",{className:"mr-2 mb-1",children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-shop",viewBox:"0 0 16 16",children:Object(g.jsx)("path",{d:"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"})})}),c(e.cuisine)]}),Object(g.jsxs)("span",{className:"mr-0 text-muted",children:[Object(g.jsx)("span",{className:"mr-2 mb-1",children:Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt",viewBox:"0 0 16 16",children:[Object(g.jsx)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),Object(g.jsx)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})]})}),e.address.building," ",e.address.street]})]})]})})},a)}))})})}function H(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(1),j=Object(i.a)(r,2),l=j[0],d=j[1],h=Object(a.useState)(""),b=Object(i.a)(h,2),u=b[0],x=b[1],O=Object(a.useState)(!0),m=Object(i.a)(O,2),f=m[0],v=m[1],y=R.a.parse(e.query);Object(a.useEffect)((function(){var e=y.borough?"&borough=".concat(A.fixCase(y.borough)):"";function t(){return(t=Object(N.a)(w.a.mark((function t(){var c,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.next=3,fetch("".concat(z.uri,"?page=").concat(l,"&perPage=").concat(z.perPage).concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n(a),v(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e=encodeURI(e),x(y.borough),function(){t.apply(this,arguments)}()}),[l,y.borough]);var k=1===l;if(f)return Object(g.jsx)(F,{});if(s&&s.length>1)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.a,{children:Object(g.jsxs)(p.a.Body,{children:[Object(g.jsx)(p.a.Title,{children:"Restaurant List"}),Object(g.jsxs)(p.a.Text,{className:"text-muted",children:["Full list of restaurants. Optionally sorted by borough:"," ",u]})]})}),Object(g.jsx)("br",{}),Object(g.jsx)(q,{restaurants:s}),Object(g.jsx)(o.a,{"aria-label":"Restaurant navigation",className:"justify-content-center",children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(I.a.Prev,{disabled:k,onClick:function(e){e.preventDefault(),l>1&&d(l-1)}}),Object(g.jsx)(I.a.Item,{children:l}),Object(g.jsx)(I.a.Next,{onClick:function(e){e.preventDefault(),d(l+1)}})]})})]});var C="in this borough ".concat(u);return Object(g.jsx)(T,{search:C})}function Y(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(S.a,{children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("p",{className:"text-center h3 mt-2",children:"404. Page Not Found"}),Object(g.jsxs)("p",{className:"mt-3",children:["We can't find what you were looking for..."," ",Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-emoji-frown ml-2",viewBox:"0 0 16 16",children:[Object(g.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(g.jsx)("path",{d:"M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"})]})]})]})})})}function _(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),r=Object(i.a)(n,2),j=r[0],o=r[1],l=Object(m.k)();if(Object(a.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){var t,c,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t=Math.trunc(100*Math.random()+1),e.next=4,fetch("".concat(z.uri,"?page=").concat(t,"&perPage=").concat(z.perPage));case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,n=Math.trunc(10*Math.random()),a[n].hasOwnProperty("_id")?s(a[n]):s(null),o(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),j)return Object(g.jsx)(F,{});if(c)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.a.Img,{variant:"top",src:"/background.jpg",alt:"N.Y. skyline"}),Object(g.jsxs)(p.a.Body,{className:"mid-background",children:[Object(g.jsx)("h2",{className:"text-center text-light",children:"New York Restaurants"}),Object(g.jsx)(p.a.Text,{className:"text-center text-light",children:"An extensive list of restaurants in New York."})]})]})}),Object(g.jsx)("br",{}),Object(g.jsx)(b.a,{children:Object(g.jsx)(p.a,{children:Object(g.jsxs)(p.a.Body,{children:[Object(g.jsxs)(p.a.Title,{className:"text-center",children:[" ","Feeling overwhelmed with so many choices? Try this random one:"]}),Object(g.jsxs)(p.a.Text,{className:"d-flex justify-content-between",children:[Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{className:"h3 font-weight-bold",children:[c.name," "]})," ",Object(g.jsxs)("span",{className:"text-muted",children:["located at",c.address.building," ",c.address.street," -"," ",c.borough]})]}),Object(g.jsx)(h.a,{className:"light-background",onClick:function(){l.push("/restaurant/".concat(c._id))},children:"More information"})]}),Object(g.jsxs)(y.a,{style:{height:"200px"},center:[c.address.coord[1],c.address.coord[0]],zoom:13,scrollWheelZoom:!1,children:[Object(g.jsx)(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(g.jsx)(C.a,{position:[c.address.coord[1],c.address.coord[0]]})]})]})})})]});return Object(g.jsx)(T,{search:"Sorry. Something went wrong."})}var E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(m.k)();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(j.a,{className:"dark-background",expand:"lg",children:[Object(g.jsx)(O.LinkContainer,{to:"/",children:Object(g.jsx)(j.a.Brand,{className:"text-light",children:"New York Restaurants"})}),Object(g.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsxs)(j.a.Collapse,{id:"basic-navbar-nav",children:[Object(g.jsxs)(o.a,{className:"mr-auto",children:[Object(g.jsx)(O.LinkContainer,{to:"/restaurants/",children:Object(g.jsx)(o.a.Link,{className:"text-light",children:"Full List"})}),Object(g.jsx)(O.LinkContainer,{to:"/about",children:Object(g.jsx)(o.a.Link,{className:"text-light",children:"About"})})]}),Object(g.jsxs)(l.a,{onSubmit:function(e){e.preventDefault(),n.push("/restaurants?borough=".concat(encodeURI(c))),s("")},inline:!0,children:[Object(g.jsx)(d.a,{type:"text",placeholder:"Borough",className:"mr-sm-2",value:c,onChange:function(e){return s(e.target.value)}}),Object(g.jsxs)(h.a,{type:"submit",variant:"outline-warning",children:[Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16",className:"mr-2 mb-1",children:Object(g.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})," ","Search"]})]})]})]}),Object(g.jsx)("br",{}),Object(g.jsx)(b.a,{children:Object(g.jsx)(u.a,{children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(m.g,{children:[Object(g.jsx)(m.d,{exact:!0,path:"/",render:function(){return Object(g.jsx)(_,{})}}),Object(g.jsx)(m.d,{exact:!0,path:"/about",render:function(){return Object(g.jsx)(f,{})}}),Object(g.jsx)(m.d,{path:"/restaurants",render:function(e){return Object(g.jsx)(H,{query:e.location.search})}}),Object(g.jsx)(m.d,{path:"/restaurant/:id",render:function(e){return Object(g.jsx)(P,{id:e.match.params.id})}}),Object(g.jsx)(m.d,{render:function(){return Object(g.jsx)(Y,{})}})]})})})})]})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,84)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(L.BrowserRouter,{children:Object(g.jsx)(E,{})})}),document.getElementById("root")),V()}},[[67,1,2]]]);
//# sourceMappingURL=main.073d88b1.chunk.js.map